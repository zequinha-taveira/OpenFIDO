# PlatformIO Configuration for OpenFIDO
# Supports ESP32, STM32, and nRF52 platforms

[platformio]
default_envs = esp32s3

# ========== ESP32-S3 Configuration ==========
[env:esp32s3]
platform = espressif32
board = esp32-s3-devkitc-1
framework = espidf

build_flags = 
    -DLOG_LEVEL=LOG_LEVEL_DEBUG
    -DCONFIG_TINYUSB_ENABLED=1

monitor_speed = 115200

lib_deps = 
    https://github.com/ARMmbed/mbedtls.git

# ========== ESP32-S2 Configuration ==========
[env:esp32s2]
platform = espressif32
board = esp32-s2-saola-1
framework = espidf

build_flags = 
    -DLOG_LEVEL=LOG_LEVEL_DEBUG
    -DCONFIG_TINYUSB_ENABLED=1

monitor_speed = 115200

lib_deps = 
    https://github.com/ARMmbed/mbedtls.git

# ========== STM32F4 Configuration ==========
[env:stm32f4]
platform = ststm32
board = nucleo_f401re
framework = stm32cube

build_flags = 
    -DLOG_LEVEL=LOG_LEVEL_DEBUG
    -DUSE_HAL_DRIVER
    -DSTM32F401xE

lib_deps = 
    https://github.com/ARMmbed/mbedtls.git

# ========== Nordic nRF52840 Configuration ==========
[env:nrf52840]
platform = nordicnrf52
board = nrf52840_dk
framework = arduino

build_flags = 
    -DLOG_LEVEL=LOG_LEVEL_DEBUG
    -DNRF52840_XXAA

lib_deps = 
    https://github.com/ARMmbed/mbedtls.git
